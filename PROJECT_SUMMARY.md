# MockController - Краткое описание

## Назначение
Сервис для централизованного управления конфигурациями заглушек (моков) в нагрузочном тестировании.

## Основной функционал

### 1. Прием конфигов от заглушек
- REST API: `POST /api/configs`
- Заглушки отправляют конфиг при первом запуске
- Сервис автоматически присваивает версию (начиная с v1)

### 2. Управление версиями
- Версии управляются автоматически сервисом
- При каждом изменении версия увеличивается на 1
- Заглушки не знают про версию конфига

### 3. Веб-интерфейс
- `/` - список всех зарегистрированных заглушек
- `/configs/{systemName}` - редактирование конфига конкретной заглушки

### 4. Типы параметров
- **delays** - числовые значения (int, миллисекунды)
- **stringParams** - строковые параметры
- **loggingLv** - уровень логирования (ERROR, WARN, INFO, DEBUG)

### 5. Функции UI
- Отображение текущих и стартовых значений
- Клик по стартовому значению подставляет его в поле
- Кнопка "Вернуть к стартовому" - откат всего конфига

## Структура конфига

```json
{
  "SystemName": "auth-mock",
  "config": {
    "Config version": "v1",
    "delays": {
      "loginDelayMs": "1000"
    },
    "stringParams": {
      "mode": "normal"
    },
    "loggingLv": "ERROR"
  }
}
```

## Технологии
- Java 17
- Spring Boot 3.3.1
- Spring Data JPA
- PostgreSQL
- Thymeleaf
- Maven

## Запуск
```bash
.\restart.bat
```

## Хранение
- Конфиги сохраняются в PostgreSQL (таблицы `stored_configs` и `scheduled_config_updates`)
- Каждая запись содержит: systemName, startConfig, currentConfig, version, updatedAt
- Таблицы создаются автоматически при первом запуске

