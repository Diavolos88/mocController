# PostgreSQL Database Configuration
# После установки PostgreSQL обновите эти настройки

spring:
  datasource:
    # URL подключения к базе данных
    # Формат: jdbc:postgresql://host:port/database_name?currentSchema=schema_name
    url: jdbc:postgresql://localhost:5432/mockcontroller
    # Имя пользователя
    username: postgres
    # Пароль (загружается из OpenShift секрета dbpassword или переменной окружения DB_PASSWORD)
    # Для локальной разработки используется значение по умолчанию q1w2e3r4
    password: ${DB_PASSWORD:q1w2e3r4}
    # Драйвер базы данных
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      # ddl-auto: update - автоматически обновляет схему БД при запуске
      #           validate - только проверяет схему
      #           create - создает схему при запуске (удаляет существующие данные!)
      #           create-drop - создает при запуске и удаляет при остановке
      #           none - ничего не делает
      ddl-auto: update
    
    # Показывать SQL запросы в консоли (отключено, используем логирование на уровне DEBUG)
    show-sql: false
    
    properties:
      hibernate:
        # Форматировать SQL запросы
        format_sql: true
        # Диалект базы данных
        dialect: org.hibernate.dialect.PostgreSQLDialect
        # Кодировка
        connection:
          characterEncoding: UTF-8
          useUnicode: true

# Server Configuration
server:
  port: 8085

# Logging Configuration
logging:
  level:
    # SQL запросы Hibernate выводятся только на уровне DEBUG
    org.hibernate.SQL: DEBUG
    # Параметры SQL запросов выводятся только на уровне DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: DEBUG

# Application Configuration
app:
  faq:
    url: https://example.com/faq  # URL для кнопки FAQ в навигации
  status:
    # Время в секундах, после которого инстанс (под) заглушки считается офлайн (по умолчанию 300 = 5 минут)
    offline-threshold-seconds: 180
    # Время в секундах для подсчета статистики (всего и оффлайн считаются за этот период, по умолчанию 300 = 5 минут)
    stats-window-seconds: 300
    # Время в секундах, после которого инстанс (под) заглушки удаляется из базы (по умолчанию 3600 = 1 час)
    # Удаляются именно инстансы (поды), а не заглушки (системы)
    cleanup-threshold-seconds: 300

